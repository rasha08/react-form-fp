{"version":3,"sources":["sections/examples/simple-form-validation/SimpleFormValidation.tsx","sections/About.tsx","sections/Sidebar.tsx","sections/Header.tsx","sections/Notice.tsx","sections/Instalation.tsx","sections/Usage.tsx","sections/examples/ExampleWrapper.tsx","../../src/form/reducer.ts","../../src/form/types.ts","../../src/utils/useValidatiion.ts","../../src/form/context.tsx","../../src/form/actions.ts","../../src/wizard/context.tsx","sections/examples/conditional-form-validation/ConditionalFormValidationExample.tsx","sections/examples/dynamic-validators/DynamicValidatorsExample.tsx","sections/Examples.tsx","App.tsx","index.tsx"],"names":["FormName","FormField","About","id","SideBar","className","href","Header","type","name","htmlFor","target","rel","Notice","Installation","Usage","ExampleWrapper","title","Example","example","Doc","doc","useState","docsOpen","setDocsOpen","onClick","p","formReducer","state","action","errors","console","error","value","omit","useValidation","setErrorIfNeeded","setError","formName","fieldName","clearError","validate","curryN","has","validationSchema","validateField","validateAll","Object","FormContext","createContext","useFormContext","useContext","FormContextProvider","children","useReducer","k","setFieldValueAction","dispatch","payload","field","setFieldErrorAction","clearFieldError","addFieldAction","removeFieldAction","clearFormAction","useFormActions","setValidator","setValidationSchema","previousSchema","validator","formField","setFieldValue","validateForm","values","addField","_","removeField","clearForm","initialState","validation","firstName","val","trim","lastName","SimpleFormValidationExample","handleFieldChange","useCallback","submit","alert","JSON","stringify","clearFormState","onChange","FirstName","onBlur","LastName","hasKids","numberOfChildren","ConditionalFormValidationExample","handleCheckboxChange","HasKids","checked","NumberOfChildren","undefined","married","wifeName","DynamicValidators","useMemo","Married","useEffect","WifeName","length","Examples","SimpleFormValidation","lazy","ConditionalFormValidation","fallback","DynamicValidatorsExample","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.88a74068.chunk.js","sourcesContent":["import React, { useCallback, ChangeEvent } from 'react'\nimport {\n  FormContextProvider,\n  ValidationSchema,\n  useFormContext\n} from 'react-form-fp'\n\nenum FormName {\n  Example = 'example'\n}\nenum FormField {\n  FirstName = 'firstName',\n  LastName = 'lastName'\n}\n\ntype FormState = {\n  firstName: string\n  lastName: string\n}\n\nconst validation: ValidationSchema<FormName, FormField> = {\n  example: {\n    firstName: (val: string) =>\n      !!val.trim() ? null : 'First name is required',\n    lastName: () => null // Empty validator\n  }\n}\n\nconst SimpleFormValidationExample = () => {\n  const {\n    setFieldValue,\n    validate,\n    validateForm,\n    state,\n    state: { errors, example },\n    clearForm\n  } = useFormContext<FormName, FormState>()\n\n  const handleFieldChange = useCallback(\n    (field: FormField) => ({\n      target: { value }\n    }: ChangeEvent<HTMLInputElement>) => {\n      setFieldValue(FormName.Example)(field)(value)\n    },\n    [setFieldValue]\n  )\n\n  const validateField = useCallback(\n    (field: FormField) => ({\n      target: { value }\n    }: ChangeEvent<HTMLInputElement>) => {\n      validate(FormName.Example)(field)(value || example[field])\n    },\n    [validate, example]\n  )\n\n  const submit = useCallback(() => {\n    if (validateForm(FormName.Example, example)) {\n      alert(JSON.stringify(example, null, 2))\n    }\n  }, [validateForm, example])\n\n  const clearFormState = useCallback(() => {\n    clearForm(FormName.Example)\n  }, [])\n\n  return (\n    <>\n      <div className='form-group col-6'>\n        <label>First Name</label>\n        <input\n          value={example.firstName}\n          onChange={handleFieldChange(FormField.FirstName)}\n          onBlur={validateField(FormField.FirstName)}\n        />\n        {!!errors.example.firstName && (\n          <p className='text-danger'>{errors.example.firstName}</p>\n        )}\n\n        <label>Last Name</label>\n        <input\n          value={example.lastName}\n          onChange={handleFieldChange(FormField.LastName)}\n          onBlur={validateField(FormField.LastName)}\n        />\n        {!!errors.example.lastName && (\n          <p className='text-danger'>{errors.example.lastName}</p>\n        )}\n\n        <button onClick={submit}>Submit Form</button>\n        <button onClick={clearFormState}>Clear Form</button>\n      </div>\n      <div className='col-6'>\n        <b>Form ContextState</b>\n        <pre>\n          <code>{JSON.stringify(state, null, 2)}</code>\n        </pre>\n      </div>\n    </>\n  )\n}\n\nexport default () => (\n  <FormContextProvider<FormName, FormState>\n    initialState={{ example: { firstName: '', lastName: '' } }}\n    validationSchema={validation}\n  >\n    <SimpleFormValidationExample />\n  </FormContextProvider>\n)\n","import React from 'react'\n\nconst About = () => (\n  <>\n    <h1 id='about'>React Form FP</h1>\n    <hr />\n    <blockquote>\n      Yet another form library for React, created as context provider, following\n      functional programming principles.{' '}\n    </blockquote>\n    <hr />\n    <p>\n      React Form FP is a state management and validation library for easy form\n      manipulation. Entire API is exposed though context provider, so it makes\n      it easy to work with <b>class components</b> or{' '}\n      <b>functional components</b>\n    </p>\n\n    <p>\n      Library has two major functionalities <b>FormContext</b> for form state\n      and validation and <b>WizardContext</b> for multi-step forms.\n    </p>\n  </>\n)\n\nexport default About\n","import React from 'react'\n\nconst SideBar = () => {\n  return (\n    <div className='md-3 sidebar'>\n      <div className='paper'>\n        <h4>\n          <a href='#about'>About</a>\n        </h4>\n        <h4>\n          <a href='#installation'>Installation</a>\n        </h4>\n        <h4>\n          <a href='#usage'>Usage</a>\n          <small>\n            <a href='#form-state'>Form State</a>\n          </small>\n          <small>\n            <a href='#handle-change'>Handling updates</a>\n          </small>\n          <small>\n            <a href='#clear-form'>Clearing Form</a>\n          </small>\n          <small>\n            <a href='#add-remove-field'>Adding and Removing Form Fields</a>\n          </small>\n          <small>\n            <a href='#reading-errors'>Showing Errors</a>\n          </small>\n          <small>\n            <a href='#validation-schema'>Validation Schema</a>\n          </small>\n          <small>\n            <a href='#single-field-validator'>Single Field Validator</a>\n          </small>\n          <small>\n            <a href='#validate-form'>Validate Entire Form</a>\n          </small>\n          <small>\n            <a href='#set-field-validator'>Set Field Validator</a>\n          </small>\n        </h4>\n        <h4>\n          <a href='#examples'>Examples</a>\n          <small>\n            <a href='#examples-sfv'>Simple Form Validation</a>\n          </small>\n          <small>\n            <a href='#examples-cfv'>Conditional Form Validation</a>\n          </small>\n          <small>\n            <a href='#examples-dv'>Adding and removing validators</a>\n          </small>\n        </h4>\n      </div>\n    </div>\n  )\n}\n\nexport default SideBar\n","import React from 'react'\n\nconst Header = () => {\n  return (\n    <nav className='border fixed split-nav'>\n      <div className='nav-brand'>\n        <h3>\n          <a href='/'>React Form FP</a>\n        </h3>\n      </div>\n      <div className='collapsible'>\n        <input id='collapsible1' type='checkbox' name='collapsible1' />\n        <label htmlFor='collapsible1'>\n          <div className='bar1' />\n          <div className='bar2' />\n          <div className='bar3' />\n        </label>\n        <div className='collapsible-body'>\n          <ul className='inline'>\n            <li>\n              <a href='/'>About</a>\n            </li>\n            <li>\n              <a href='/'>Documentation</a>\n            </li>\n            <li>\n              <a\n                href='https://github.com/rasha08/react-form-fp'\n                target='_blank'\n                rel='noopener noreferrer'\n              >\n                Github\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nconst Notice = () => {\n  return (\n    <div className='row flex-center beta-warn'>\n      <div className='md-6'>\n        <input className='alert-state' id='alert-4' type='checkbox' />\n        <div className='alert alert-success dismissible'>\n          React Form FP library is in version 2.1.0\n          <label className='btn-close' htmlFor='alert-4'>\n            X\n          </label>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Notice\n","import React from 'react'\n\nconst Installation = () => {\n  return (\n    <>\n      <h2 id='installation'>Installation</h2>\n      <p>\n        Install the package from <b>NPM</b> by running:\n      </p>\n      <code>npm install react-form-fp</code>\n      <p> or</p>\n      <code>yarn add react-form-fp</code>\n    </>\n  )\n}\n\nexport default Installation\n","import React from 'react'\n\nconst Usage = () => {\n  return (\n    <>\n      <h2 id='usage'>Usage</h2>\n      <p>Form Context has on 2 major blocks</p>\n      <ul>\n        <li>\n          State\n          <ul>\n            <li>Form State and Errors</li>\n            <li>Field value update handler</li>\n            <li>Adding and Removing form fields</li>\n            <li>Clearing Form (Restart to initial state)</li>\n          </ul>\n        </li>\n        <li>\n          Validation Schema\n          <ul>\n            <li>Schema</li>\n            <li>\n              Validators\n              <ul>\n                <li>Single Field Validator</li>\n                <li>Entire Form Validator</li>\n                <li>Registering New Validators Dynamically</li>\n              </ul>\n            </li>\n          </ul>\n        </li>\n      </ul>\n      <h4 id='form-state'>Form State</h4>\n      <p>\n        Form State is created from the initial state provided to the{' '}\n        <b>\n          <i>FormContextProvider</i>\n        </b>{' '}\n        and extended with errors property.\n      </p>\n      <code>{`<FormContextProvider initialState={...} ...> ... </FormContextProvider>`}</code>\n      <p>\n        State model is really simple but strict, initial state must have form\n        name as top level key, and form fields as nested level properties, this\n        is because of support for multiple forms on single view as well as\n        multiple steps forms (Wizard).\n      </p>\n      <p>\n        <i>\n          So for example if we want to handle login form which have a username\n          and password fields, our initial state model would look like this:\n        </i>\n      </p>\n      <code>\n        {`\n        const initialState = {\n          login: {\n            username: '',\n            password: ''\n          }\n        }\n        `}\n      </code>\n      <p>\n        And inside of your component you can consume that state by using{' '}\n        <b>\n          <i>useFormContext()</i>\n        </b>\n      </p>\n      <code>{`const { state: { login } } = useFormContext()`}</code>\n      <p>\n        And this login object is of same structure as you initial state, so you\n        can now have some input with value, for example,{' '}\n        <b>\n          <i>username</i>\n        </b>\n      </p>\n      <code>{`<input value={login.username} ... />`}</code>\n      <h4 id='handle-change'>Field value update handler</h4>\n      <p>\n        To update any field value inside the form you need to use{' '}\n        <b>\n          <i>setFieldValue</i>\n        </b>{' '}\n        handler from{' '}\n        <b>\n          <i>useFormContext</i>\n        </b>\n        . It is a very simple method that is in charge of updating specific\n        field within the form.\n      </p>\n      <p>\n        Method is curried function and accepts 3 params{' '}\n        <b>\n          <i>formName</i>\n        </b>\n        <i>(form key in FormContext state) </i>\n        <b>\n          <i>field</i>\n        </b>\n        <i>(key within the form) </i>\n        <b>\n          <i>value</i>\n        </b>\n        <i>(new value for the field)</i>\n      </p>\n      <code>{`const { setFieldValue } = useFormContext()`}</code>\n      <br />\n      <code>...</code>\n      <br />\n      <code>{`const handleFormChange = setFieldValue('login')`}</code>\n      <br />\n      <code>\n        {`const handleFieldChange = (field) => ({ target: { value }}) => handleFormChange(field)(value);`}\n      </code>\n      <br />\n      <code>...</code>\n      <br />\n      <code>{`<input value={login.username} onChange={handleFieldChange('username')} ... />`}</code>\n      <h4 id='clear-form'>Clearing Form (Restart to the initial state)</h4>\n      <p>\n        Sometimes you will need to restart form state to initial, either because\n        user have option to restart the form, or to just clear form on success\n        action for example.\n      </p>\n      <p>\n        <b>Clear Form</b>\n      </p>\n      <code>\n        {`type ClearForm<FormName extends string | number> = (formName: FormName) => void`}\n      </code>\n      <p>\n        And the method is exported from From Context by name <b>clearForm</b>{' '}\n        <i>\n          <a href='#examples-sfv'>(see example)</a>\n        </i>\n      </p>\n      <code>{`const { clearForm } = useFormContext()`}</code>\n      <h4 id='add-remove-field'>Adding and Removing Form Fields</h4>\n      <p>\n        Sometimes you will need to add new fields to a form, or to remove the\n        existing ones, depending on your application logic\n      </p>\n      <p>\n        <b>Add Form Field</b> (<i>Validator is optional</i>)\n      </p>\n      <code>{`type AddField<FormName extends string | number, ValueType = FieldValue> = (\n  formName: FormName,\n  field: string,\n  value: FieldValue,\n  validator?: Validator<ValueType>\n) => void`}</code>\n      <p>\n        <b>Remove Form Field</b> (<i>Validator will be removed</i>)\n      </p>\n      <code>\n        {`type RemoveField<FormName extends string | number> = (\n  formName: FormName,\n  field: string\n) => void`}\n      </code>\n      <h4 id='reading-errors'>Errors</h4>\n      <p>\n        Errors are stored inside of the{' '}\n        <b>\n          <i>FormContext state</i>\n        </b>{' '}\n        by the{' '}\n        <b>\n          <i>errors</i>\n        </b>{' '}\n        key and every form field that has a defined validator have either{' '}\n        <b>\n          <i>null</i>\n        </b>{' '}\n        or{' '}\n        <b>\n          <i>string</i>\n        </b>{' '}\n        value\n      </p>\n      <p>Error State type is:</p>\n      <code>{`type ErrorState<FormName extends number | string, T> = {\n  errors: {\n    [key in FormName]: {\n      [key in FieldName<T>]: string | null\n    }\n  }`}</code>\n      <p>\n        In our login example, error message logic for <i>username</i> field\n        should look something like this\n      </p>\n      <code>...</code>\n      <br />\n      <code>{`{!!errors.example.username && <p className='text-danger'>{errors.example.username}</p>} `}</code>\n      <br />\n      <code>...</code>\n      <h4 id='validation-schema'>Validation Schema</h4>\n      <p>\n        Validation schema is used to define form validation and it follows the\n        same structure as initial form state\n      </p>\n      <code>{`{ [formName]: { formField: validatorFunc } }`}</code>\n      <p>\n        Validator function is a simple function that accepts a value and returns\n        either{' '}\n        <b>\n          <i>string | null</i>\n        </b>\n      </p>\n      <p>\n        {' '}\n        <b>\n          <i>ValidationSchema</i>\n        </b>{' '}\n        is generic type accepts two additional types{' '}\n        <b>\n          <i>FormName</i>\n        </b>{' '}\n        <b>\n          <i>FormType</i>\n        </b>\n        <code>\n          {`\n          export type Validator<VT = unknown, ST = unknown> = (\n            value: VT,\n            state?: ST\n          ) => string | null\n\n          export type ValidationSchema<\n            FormName extends number | string = string,\n            FormField extends number | string = string\n          > = {\n            [key in FormName]: {\n              [key in FormField]: Validator\n            }\n          }\n          `}\n        </code>\n      </p>\n      <p>So for our login form we can define a validation schema:</p>\n      <code>{`   {\n        login: {\n         firstName: (val: string) => !!val.trim() ? null : 'First name is required',\n         lastName: () => null // Empty validator\n       }\n    }`}</code>\n      <p>\n        The idea behind it is really simple, every field that has a defined\n        validator will be validated against it, and if validator returns a{' '}\n        <b>\n          <i>null</i>\n        </b>{' '}\n        field is valid.\n      </p>\n      <h4 id='single-field-validator'>Single Field Validator</h4>\n      <p>\n        Field validator is a function which takes field value as an argument and\n        returns either string or null. Additionally every validator gets a{' '}\n        <b>\n          <i>FormContext state</i>\n        </b>{' '}\n        as second a parameter, which can be useful when writing a conditional\n        validations{' '}\n        <i>\n          <small>\n            (if the field validation logic depends on a another field value\n            within the state. ex: Passport number validation is bound to\n            selected country)\n          </small>\n        </i>\n      </p>\n      <p>Validator function type is:</p>\n      <code>{`type Validator<VT, ST> = (value: VT, state?: ST) => string | null`}</code>\n      <h4 id='validate-form'>Validate Entire Form</h4>\n      <p>\n        Validate entire form will run all defined validator and return{' '}\n        <b>true</b> or <b>false</b>, also while running the validators will set\n        form errors if any of the validator fails\n      </p>\n      <p>Validate form function type is</p>\n      <code>{`ValidateForm<FormName extends string | number, T> = (formName: FormName, values: T) => boolean`}</code>\n      <h4 id='set-field-validator'>Set Field Validator</h4>\n      <p>\n        Set filed validator is used for adding, removing or updating validators\n        from initial validation schema.\n      </p>\n      <p>Type of setValidator function is: </p>s\n      <code>{`SetValidator<FormName extends string | number, T, ValueType = unknown> = (\n  formName: FormName,\n  field: keyof T,\n  validator: Validator<ValueType>\n) => void`}</code>\n    </>\n  )\n}\n\nexport default Usage\n","import React, { useState } from 'react'\n\nconst ExampleWrapper = ({ title, id, example: Example, doc: Doc }: any) => {\n  const [docsOpen, setDocsOpen] = useState(false)\n  return (\n    <>\n      <div className={'margin-top-large'} />\n      <hr />\n      <h4 id={id}>{title}</h4>\n      <div className='example row'>\n        <Example />\n        <div className={'example-doc'}>{docsOpen && <Doc />}</div>\n        <button\n          className='example-toggle'\n          onClick={() => setDocsOpen((p) => !p)}\n        >\n          {docsOpen ? 'Hide Code' : 'Show Code'}\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default ExampleWrapper\n","import { omit } from 'ramda'\nimport {\n  ADD_FIELD,\n  CLEAR_FIELD_ERROR,\n  CLEAR_FORM,\n  FormReducer,\n  REMOVE_FIELD,\n  SET_FILED_ERROR,\n  SET_FILED_VALUE\n} from './types'\n\nexport const formReducer: FormReducer = (state, action) => {\n  switch (action.type) {\n    case CLEAR_FIELD_ERROR:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [action.payload.formName]: {\n            ...state.errors[action.payload.formName],\n            [action.payload.field]: null\n          }\n        }\n      }\n    case SET_FILED_ERROR:\n      console.log(action)\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [action.payload.formName]: {\n            ...state.errors[action.payload.formName],\n            [action.payload.field]: action.payload.error\n          }\n        }\n      }\n    case SET_FILED_VALUE:\n      return {\n        ...state,\n        [action.payload.formName]: {\n          ...state[action.payload.formName],\n          ...{\n            [action.payload.field]: action.payload.value\n          }\n        }\n      }\n    case ADD_FIELD:\n      return {\n        ...state,\n        [action.payload.formName]: {\n          ...state[action.payload.formName],\n          ...{\n            [action.payload.field]: action.payload.value\n          }\n        }\n      }\n    case REMOVE_FIELD:\n      return {\n        ...state,\n        [action.payload.formName]: omit(\n          [action.payload.field as string],\n          state[action.payload.formName]\n        )\n      }\n    case CLEAR_FORM:\n      return {\n        ...state,\n        [action.payload.formName]: action.payload.state,\n        errors: {\n          ...state.errors,\n          [action.payload.formName]: {}\n        }\n      }\n    default:\n      return state\n  }\n}\n","export const SET_FILED_VALUE = 'SET_FILED_VALUE'\nexport const SET_FILED_ERROR = 'SET_FIELD_ERROR'\nexport const CLEAR_FIELD_ERROR = 'CLEAR_FIELD_ERROR'\nexport const ADD_FIELD = 'ADD_FIELD'\nexport const REMOVE_FIELD = 'REMOVE_FIELD'\nexport const CLEAR_FORM = 'CLEAR_FORM'\n\nexport type FieldName<T> = keyof T\nexport type FieldValue = any // TODO find alternate solution\nexport type ErrorState<FormName extends number | string, T> = {\n  errors: {\n    [key in FormName]: {\n      [key in FieldName<T>]: string | null\n    }\n  }\n}\n\nexport type FormContextState<FormName extends number | string, T> = {\n  [key in FormName]: T\n} &\n  ErrorState<FormName, T> &\n  unknown\n\nexport type StateChange<FormName extends number | string, T> = {\n  formName: FormName\n  field: FieldName<T>\n}\n\nexport type SetFieldValueActionPayload<\n  FormName extends number | string,\n  T\n> = StateChange<FormName, T> & {\n  value: FieldValue\n}\n\nexport type AddFieldActionPayload<\n  FormName extends number | string,\n  VT = FieldValue\n> = StateChange<FormName, string> & {\n  value: VT\n}\n\nexport type RemoveFieldActionPayload<\n  FormName extends number | string\n> = StateChange<FormName, string>\n\nexport type ClearFormPayload<FormName extends number | string, T> = {\n  formName: FormName\n  state: T\n}\n\nexport type AddFieldAction<\n  FormName extends number | string,\n  VT = FieldValue\n> = {\n  type: typeof ADD_FIELD\n  payload: AddFieldActionPayload<FormName, VT>\n}\n\nexport type RemoveFieldAction<FormName extends number | string> = {\n  type: typeof REMOVE_FIELD\n  payload: AddFieldActionPayload<FormName>\n}\n\nexport type SetFieldValueAction<FormName extends number | string, T> = {\n  type: typeof SET_FILED_VALUE\n  payload: SetFieldValueActionPayload<FormName, T>\n}\n\nexport type SetFieldErrorActionPayload<\n  FormName extends number | string,\n  T\n> = StateChange<FormName, T> & {\n  error: string\n}\n\nexport type SetFieldErrorAction<FormName extends number | string, T> = {\n  type: typeof SET_FILED_ERROR\n  payload: SetFieldErrorActionPayload<FormName, T>\n}\n\nexport type ClearFieldErrorAction<FormName extends number | string, T> = {\n  type: typeof CLEAR_FIELD_ERROR\n  payload: StateChange<FormName, T>\n}\n\nexport type ClearFormAction<FormName extends number | string, T> = {\n  type: typeof CLEAR_FORM\n  payload: ClearFormPayload<FormName, T>\n}\n\nexport type FormReducer = <FormName extends string | number, T>(\n  state: FormContextState<FormName, T>,\n  action:\n    | SetFieldValueAction<FormName, T>\n    | SetFieldErrorAction<FormName, T>\n    | ClearFieldErrorAction<FormName, T>\n    | AddFieldAction<FormName>\n    | RemoveFieldAction<FormName>\n    | ClearFormAction<FormName, T>\n) => FormContextState<FormName, T>\n\nexport type UseFormActions<FormName extends string | number, T> = {\n  setFieldValueAction: (\n    formName: FormName,\n    field: FieldName<T>,\n    value: FieldValue\n  ) => void\n  setFieldErrorAction: (\n    formName: FormName,\n    field: FieldName<T>,\n    error: string\n  ) => void\n  clearFieldError: (formName: FormName, field: FieldName<T>) => void\n  addFieldAction: (\n    formName: FormName,\n    field: string,\n    initialValue: FieldValue\n  ) => void\n  removeFieldAction: (formName: FormName, field: string) => void\n  clearFormAction: (formName: FormName, initialState: T) => void\n}\n\nexport type FormActionDispatcher<FormName extends string | number, T> = (\n  action:\n    | SetFieldValueAction<FormName, T>\n    | SetFieldErrorAction<FormName, T>\n    | ClearFieldErrorAction<FormName, T>\n    | AddFieldAction<FormName>\n    | RemoveFieldAction<FormName>\n    | ClearFormAction<FormName, T>\n) => void\n","import { has, curryN } from 'ramda'\n\nexport type Validator<VT = any, ST = any> = (\n  value: VT,\n  state?: ST\n) => string | null\n\nexport type ValidationSchema<\n  FormName extends number | string = string,\n  FormField extends number | string = string\n> = {\n  [key in FormName]: {\n    [key in FormField]: Validator\n  }\n}\n\nexport const useValidation = (\n  validationSchema: ValidationSchema,\n  setError: (formName: any, field: any, error: string) => void,\n  clearError: (formName: any, field: any) => void\n) => {\n  const setErrorIfNeeded = (\n    formName: string | number,\n    fieldName: string,\n    error: string | null\n  ) => {\n    return error\n      ? setError(formName, fieldName, error)\n      : clearError(formName, fieldName)\n  }\n\n  const validate = curryN(\n    4,\n    (\n      formName: string | any,\n      fieldName: string | any,\n      value: any,\n      state?: any\n    ): void => {\n      if (!has(formName, validationSchema)) {\n        return\n      }\n      if (!has(fieldName, validationSchema[formName])) {\n        return\n      }\n\n      const validateField = validationSchema[formName][fieldName]\n\n      setErrorIfNeeded(formName, fieldName as any, validateField(value, state))\n    }\n  )\n\n  const validateAll = (\n    formName: string | number,\n    values: { [key: string]: any },\n    state?: any\n  ): boolean => {\n    const errors: boolean[] = []\n\n    const addToErrors = (error: string | null) => {\n      if (error) {\n        errors.push(!!errors)\n      }\n\n      return error\n    }\n\n    Object.entries(values).forEach(([fieldName, value]) => {\n      if (!has(formName as string, validationSchema)) {\n        return\n      }\n      if (!has(fieldName, validationSchema[formName])) {\n        return\n      }\n\n      setErrorIfNeeded(\n        formName,\n        fieldName,\n        addToErrors(validationSchema[formName][fieldName](value, state))\n      )\n    })\n\n    return !errors.length\n  }\n\n  return { validate, validateAll }\n}\n","import React, {\n  ComponentProps,\n  createContext,\n  FC,\n  useContext,\n  useReducer,\n  useState\n} from 'react'\nimport {\n  FieldName,\n  FieldValue,\n  FormActionDispatcher,\n  FormContextState\n} from './types'\nimport { formReducer } from './reducer'\nimport { useFormActions } from './actions'\nimport {\n  useValidation,\n  ValidationSchema,\n  Validator\n} from '../utils/useValidatiion'\n\ntype SetValidator<FormName extends string | number, T, ValueType = any> = (\n  formName: FormName,\n  field: keyof T,\n  validator: Validator<ValueType>\n) => void\ntype Validate<FormName extends string | number, T> = (\n  formName: FormName\n) => (fieldName: FieldName<T>) => (value: FieldValue) => void\ntype SetFieldValue<FormName extends string | number, T> = (\n  formName: FormName\n) => (field: FieldName<T>) => (value: FieldValue) => void\ntype ValidateForm<FormName extends string | number, T> = (\n  formName: FormName,\n  values: T\n) => boolean\ntype AddField<FormName extends string | number, ValueType = FieldValue> = (\n  formName: FormName,\n  field: string,\n  value: FieldValue,\n  validator?: Validator<ValueType>\n) => void\ntype RemoveField<FormName extends string | number> = (\n  formName: FormName,\n  field: string\n) => void\ntype ClearForm<FormName extends string | number> = (formName: FormName) => void\n\ntype UseFormContext<FormName extends string | number, T> = {\n  state: FormContextState<FormName, T>\n  validate: Validate<FormName, T>\n  setFieldValue: SetFieldValue<FormName, T>\n  validateForm: ValidateForm<FormName, T>\n  setValidator: SetValidator<FormName, T>\n  addField: AddField<FormName>\n  removeField: RemoveField<FormName>\n  clearForm: ClearForm<FormName>\n}\n\nconst FormContext = createContext({} as any)\nexport const useFormContext = <FormName extends string | number, T>() =>\n  useContext<UseFormContext<FormName, T>>(FormContext)\n\ninterface Props<FormName extends string | number, T>\n  extends ComponentProps<FC> {\n  initialState: { [key in FormName]: T } | unknown\n  validationSchema: ValidationSchema\n}\n\ntype Form = <FormName extends string | number, T>(\n  props: Props<FormName, T>\n) => JSX.Element\n\nexport const FormContextProvider: Form = <FormName extends string | number, T>({\n  initialState,\n  validationSchema: vs,\n  children\n}) => {\n  const [state, dispatch] = useReducer(formReducer, {\n    ...initialState,\n    errors: Object.fromEntries(Object.keys(initialState).map((k) => [k, {}]))\n  })\n\n  const [validationSchema, setValidationSchema] = useState(vs)\n\n  const {\n    setFieldErrorAction,\n    clearFieldError,\n    setFieldValueAction,\n    addFieldAction,\n    removeFieldAction,\n    clearFormAction\n  } = useFormActions<FormName, T>(\n    (state as unknown) as FormContextState<FormName, T>,\n    dispatch as FormActionDispatcher<FormName, T>\n  )\n\n  const { validate: validateField, validateAll } = useValidation(\n    validationSchema,\n    setFieldErrorAction,\n    clearFieldError\n  )\n\n  const validateForm: ValidateForm<FormName, T> = (formName, values) => {\n    return validateAll(formName, values, state)\n  }\n\n  const setFieldValue: SetFieldValue<FormName, T> = (formName) => (\n    fieldName\n  ) => (value) => {\n    if (state.errors[formName][fieldName as any]) {\n      validate(formName)(fieldName)(value)\n    }\n\n    setFieldValueAction(formName, fieldName, value)\n  }\n\n  const setValidator: SetValidator<FormName, T> = (\n    formName,\n    field,\n    validator\n  ) => {\n    setValidationSchema((previousSchema) => ({\n      ...previousSchema,\n      [formName]: {\n        ...previousSchema[formName],\n        [field]: validator\n      }\n    }))\n  }\n\n  const validate: Validate<FormName, T> = (formName) => (formField) => (\n    value: FieldValue\n  ) => validateField(formName, formField, value, state)\n\n  const addField: AddField<FormName> = (\n    formName,\n    field,\n    value,\n    validator = (_) => null\n  ) => {\n    addFieldAction(formName, field, value)\n    setValidator(formName, (field as unknown) as keyof T, validator)\n  }\n\n  const removeField: RemoveField<FormName> = (formName, field) => {\n    removeFieldAction(formName, field)\n    setValidator(formName, (field as unknown) as keyof T, () => null)\n  }\n\n  const clearForm: ClearForm<FormName> = (formName) => {\n    clearFormAction(formName, initialState[formName])\n  }\n\n  return (\n    <FormContext.Provider\n      value={{\n        setFieldValue,\n        validate,\n        state,\n        validateForm,\n        setValidator,\n        addField,\n        removeField,\n        clearForm\n      }}\n    >\n      {children}\n    </FormContext.Provider>\n  )\n}\n","import {\n  ADD_FIELD,\n  CLEAR_FIELD_ERROR,\n  CLEAR_FORM,\n  FieldName,\n  FieldValue,\n  FormActionDispatcher,\n  FormContextState,\n  SET_FILED_ERROR,\n  SET_FILED_VALUE,\n  UseFormActions\n} from './types'\n\nexport const useFormActions = <FormName extends string | number, T>(\n  state: FormContextState<FormName, T>,\n  dispatch: FormActionDispatcher<FormName, T>\n): UseFormActions<FormName, T> => {\n  const setFieldValueAction = (\n    formName: FormName,\n    field: FieldName<T>,\n    value: FieldValue\n  ): void => {\n    dispatch({\n      type: SET_FILED_VALUE,\n      payload: {\n        formName,\n        field,\n        value\n      }\n    })\n  }\n\n  const setFieldErrorAction = (\n    formName: FormName,\n    field: FieldName<T>,\n    error: string\n  ): void => {\n    dispatch({\n      type: SET_FILED_ERROR,\n      payload: {\n        formName,\n        field,\n        error\n      }\n    })\n  }\n\n  const clearFieldError = (formName: FormName, field: FieldName<T>): void => {\n    if (!state.errors[formName] || !state.errors[formName][field]) {\n      return\n    }\n\n    dispatch({\n      type: CLEAR_FIELD_ERROR,\n      payload: {\n        formName,\n        field\n      }\n    })\n  }\n\n  const addFieldAction = (\n    formName: FormName,\n    field: string,\n    value: FieldValue\n  ): void => {\n    dispatch({\n      type: ADD_FIELD,\n      payload: {\n        formName,\n        field,\n        value\n      }\n    } as any)\n  }\n\n  const removeFieldAction = (formName: FormName, field: string): void => {\n    dispatch({\n      type: ADD_FIELD,\n      payload: {\n        formName,\n        field\n      }\n    } as any)\n  }\n\n  const clearFormAction = (formName: FormName, state: T): void => {\n    dispatch({\n      type: CLEAR_FORM,\n      payload: {\n        formName,\n        state\n      }\n    })\n  }\n\n  return {\n    setFieldValueAction,\n    setFieldErrorAction,\n    clearFieldError,\n    addFieldAction,\n    removeFieldAction,\n    clearFormAction\n  }\n}\n","import React, {\n  ComponentProps,\n  createContext,\n  Dispatch,\n  FC,\n  SetStateAction,\n  useCallback,\n  useContext,\n  useReducer,\n  useState\n} from 'react'\nimport { is, isNil } from 'ramda'\nimport { wizardReducer } from './reducer'\nimport { useWizardActions } from './actions'\nimport { WizardContextState, WizardStep } from './types'\n\ntype ChangeStep = (step?: number) => void\ntype SetVisibility = (isVisible: boolean) => void\ntype SetSteps = (steps: WizardStep[]) => void\ntype StepValidator = () => boolean\ntype NextHandler = () => Promise<boolean>\n\ntype WizardContext = {\n  state: WizardContextState\n  changeStep: ChangeStep\n  setVisibility: SetVisibility\n  setSteps: SetSteps\n  setValidator: Dispatch<StepValidator>\n  setOnNextHandle: Dispatch<NextHandler>\n}\n\nconst WizardContext = createContext({} as WizardContext)\n\nexport const useWizardContext = (): WizardContext => useContext(WizardContext)\n\nexport interface Props extends ComponentProps<FC> {\n  steps: WizardStep[]\n  activeStep?: number\n}\n\nexport const WizardContextProvider: FC<Props> = ({\n  steps,\n  activeStep = 0,\n  children\n}) => {\n  const [state, dispatch] = useReducer(wizardReducer, {\n    showWizard: true,\n    steps,\n    activeStep\n  })\n\n  const [stepValidator, setStepValidator]: [\n    StepValidator,\n    Dispatch<SetStateAction<() => boolean>>\n  ] = useState<() => boolean>(() => () => true)\n  const [nextCallback, setNextCallback]: [\n    NextHandler,\n    Dispatch<SetStateAction<() => Promise<boolean>>>\n  ] = useState<() => Promise<boolean>>(() => () => Promise.resolve(true))\n  const {\n    setActiveStepAction,\n    setWizardVisibilityAction,\n    setWizardStepsAction\n  } = useWizardActions(state, dispatch)\n\n  const setSteps: SetSteps = (steps) => {\n    setWizardStepsAction(steps)\n  }\n\n  const setValidator = (callback: () => boolean): void => {\n    setStepValidator(() => () => callback())\n  }\n\n  const setOnNextHandle = useCallback(\n    (callback: () => Promise<boolean>): void => {\n      setNextCallback(() => () => callback())\n    },\n    [setNextCallback]\n  )\n\n  const changeStep: ChangeStep = async (step) => {\n    if (!stepValidator()) {\n      return\n    }\n\n    if (!(await nextCallback())) {\n      return\n    }\n\n    if (!isNil(step) && is(Number, step)) {\n      setActiveStepAction(step)\n    } else {\n      setActiveStepAction(state.activeStep + 1)\n    }\n  }\n\n  const setVisibility: SetVisibility = (isVisible) => {\n    setWizardVisibilityAction(isVisible)\n  }\n\n  return (\n    <WizardContext.Provider\n      value={{\n        state,\n        setSteps,\n        changeStep,\n        setVisibility,\n        setValidator,\n        setOnNextHandle\n      }}\n    >\n      {children}\n    </WizardContext.Provider>\n  )\n}\n","import React, { useCallback, ChangeEvent } from 'react'\nimport {\n  FormContextProvider,\n  ValidationSchema,\n  useFormContext\n} from 'react-form-fp'\n\nenum FormName {\n  Example = 'example'\n}\nenum FormField {\n  FirstName = 'firstName',\n  LastName = 'lastName',\n  NumberOfChildren = 'numberOfChildren',\n  HasKids = 'hasKids'\n}\n\ntype FormState = {\n  firstName: string\n  lastName: string\n  hasKids: boolean\n  numberOfChildren?: number\n}\n\nconst validation: ValidationSchema<FormName, FormField> = {\n  example: {\n    firstName: (val: string) =>\n      !!val.trim() ? null : 'First name is required',\n    lastName: () => null,\n    hasKids: () => null,\n    numberOfChildren: (val: number, state?: { example: FormState }) => {\n      if (state?.example.hasKids) {\n        return val > 0 ? null : 'Please specify how many children do you have.'\n      }\n\n      return null\n    }\n  }\n}\n\nconst ConditionalFormValidationExample = () => {\n  const {\n    setFieldValue,\n    validate,\n    validateForm,\n    state,\n    state: { errors, example }\n  } = useFormContext<FormName, FormState>()\n\n  const handleFieldChange = useCallback(\n    (field: FormField) => ({\n      target: { value }\n    }: ChangeEvent<HTMLInputElement>) => {\n      setFieldValue(FormName.Example)(field)(value)\n    },\n    [setFieldValue]\n  )\n\n  const handleCheckboxChange = useCallback(() => {\n    setFieldValue(FormName.Example)(FormField.HasKids)(!example.hasKids)\n  }, [setFieldValue, example])\n\n  const validateField = useCallback(\n    (field: FormField) => ({\n      target: { value }\n    }: ChangeEvent<HTMLInputElement>) => {\n      validate(FormName.Example)(field)(value || example[field])\n    },\n    [validate, example]\n  )\n\n  const submit = useCallback(() => {\n    if (validateForm(FormName.Example, example)) {\n      alert(JSON.stringify(example, null, 2))\n    }\n  }, [validateForm, example])\n\n  return (\n    <>\n      <div className='form-group col-6'>\n        <label>First Name</label>\n        <input\n          value={example.firstName}\n          onChange={handleFieldChange(FormField.FirstName)}\n          onBlur={validateField(FormField.FirstName)}\n        />\n        {!!errors.example.firstName && (\n          <p className='text-danger'>{errors.example.firstName}</p>\n        )}\n\n        <label>Last Name</label>\n        <input\n          value={example.lastName}\n          onChange={handleFieldChange(FormField.LastName)}\n          onBlur={validateField(FormField.LastName)}\n        />\n        {!!errors.example.lastName && (\n          <p className='text-danger'>{errors.example.lastName}</p>\n        )}\n\n        <label className='row paper-check'>\n          <input\n            id='paperSwitch4'\n            name='paperSwitch4'\n            type='checkbox'\n            checked={example.hasKids}\n            onChange={handleCheckboxChange}\n          />\n          <span className='paper-switch-slider'>Do you have kids?</span>\n        </label>\n        <br />\n        {example.hasKids && (\n          <>\n            <label>Number Of children</label>\n            <input\n              type='number'\n              value={example.numberOfChildren}\n              onChange={handleFieldChange(FormField.NumberOfChildren)}\n              onBlur={validateField(FormField.NumberOfChildren)}\n            />\n            {!!errors.example.numberOfChildren && (\n              <p className='text-danger'>{errors.example.numberOfChildren}</p>\n            )}\n          </>\n        )}\n        <button onClick={submit}>Submit Form</button>\n      </div>\n      <div className='col-6'>\n        <b>Form ContextState</b>\n        <pre>\n          <code>{JSON.stringify(state, null, 2)}</code>\n        </pre>\n      </div>\n    </>\n  )\n}\n\nexport default () => (\n  <FormContextProvider<FormName, FormState>\n    initialState={{\n      example: {\n        firstName: '',\n        lastName: '',\n        hasKids: false,\n        numberOfChildren: undefined\n      }\n    }}\n    validationSchema={validation}\n  >\n    <ConditionalFormValidationExample />\n  </FormContextProvider>\n)\n","import React, { useCallback, ChangeEvent, useEffect, useMemo } from 'react'\nimport {\n  FormContextProvider,\n  ValidationSchema,\n  useFormContext\n} from 'react-form-fp'\n\nenum FormName {\n  Example = 'example'\n}\nenum FormField {\n  FirstName = 'firstName',\n  LastName = 'lastName',\n  Married = 'married',\n  WifeName = 'wifeName'\n}\n\ntype FormState = {\n  firstName: string\n  lastName: string\n  married: boolean\n  wifeName: string\n}\n\nconst validation: ValidationSchema<FormName, FormField> = {\n  example: {\n    firstName: (val: string) =>\n      !!val.trim() ? null : 'First name is required',\n    lastName: () => null,\n    married: () => null,\n    wifeName: () => null\n  }\n}\n\nconst DynamicValidators = () => {\n  const {\n    setFieldValue,\n    validate,\n    validateForm,\n    state,\n    state: { errors, example },\n    setValidator\n  } = useFormContext<FormName, FormState>()\n\n  const married = useMemo(() => example.married, [example])\n\n  const handleFieldChange = useCallback(\n    (field: FormField) => ({\n      target: { value }\n    }: ChangeEvent<HTMLInputElement>) => {\n      setFieldValue(FormName.Example)(field)(value)\n    },\n    [setFieldValue]\n  )\n\n  const handleCheckboxChange = useCallback(() => {\n    setFieldValue(FormName.Example)(FormField.Married)(!example.married)\n  }, [setFieldValue, example])\n\n  const validateField = useCallback(\n    (field: FormField) => ({\n      target: { value }\n    }: ChangeEvent<HTMLInputElement>) => {\n      validate(FormName.Example)(field)(value || example[field])\n    },\n    [validate, example]\n  )\n\n  const submit = useCallback(() => {\n    if (validateForm(FormName.Example, example)) {\n      alert(JSON.stringify(example, null, 2))\n    }\n  }, [validateForm, example])\n\n  useEffect(() => {\n    if (married) {\n      // Set new validator\n      setValidator(FormName.Example, FormField.WifeName, (val: string) => {\n        return val?.length > 2 ? null : 'Name must be at least 3 chars long.'\n      })\n    } else {\n      // Clear validator\n      setValidator(FormName.Example, FormField.WifeName, () => null)\n    }\n  }, [married])\n\n  return (\n    <>\n      <div className='form-group col-6'>\n        <label>First Name</label>\n        <input\n          value={example.firstName}\n          onChange={handleFieldChange(FormField.FirstName)}\n          onBlur={validateField(FormField.FirstName)}\n        />\n        {!!errors.example.firstName && (\n          <p className='text-danger'>{errors.example.firstName}</p>\n        )}\n\n        <label>Last Name</label>\n        <input\n          value={example.lastName}\n          onChange={handleFieldChange(FormField.LastName)}\n          onBlur={validateField(FormField.LastName)}\n        />\n        {!!errors.example.lastName && (\n          <p className='text-danger'>{errors.example.lastName}</p>\n        )}\n\n        <label className='row paper-check'>\n          <input\n            id='switch8'\n            type='checkbox'\n            checked={example.married}\n            onChange={handleCheckboxChange}\n          />\n          <span className='paper-switch-slider'>Are you married?</span>\n        </label>\n        <br />\n        {example.married && (\n          <>\n            <label>Wife's Name</label>\n            <input\n              value={example.wifeName}\n              onChange={handleFieldChange(FormField.WifeName)}\n              onBlur={validateField(FormField.WifeName)}\n            />\n            {!!errors.example.wifeName && (\n              <p className='text-danger'>{errors.example.wifeName}</p>\n            )}\n          </>\n        )}\n        <button onClick={submit}>Submit Form</button>\n      </div>\n      <div className='col-6'>\n        <b>Form ContextState</b>\n        <pre>\n          <code>{JSON.stringify(state, null, 2)}</code>\n        </pre>\n      </div>\n    </>\n  )\n}\n\nexport default () => (\n  <FormContextProvider<FormName, FormState>\n    initialState={{\n      example: {\n        firstName: '',\n        lastName: '',\n        married: false,\n        wifeName: undefined\n      }\n    }}\n    validationSchema={validation}\n  >\n    <DynamicValidators />\n  </FormContextProvider>\n)\n","import React, { lazy, Suspense } from 'react'\n\nimport ExampleWrapper from './examples/ExampleWrapper'\n// @ts-ignore\nimport { importMDX } from 'mdx.macro'\n\nimport SimpleFormValidationExample from './examples/simple-form-validation/SimpleFormValidation'\nimport ConditionalFormValidationExample from './examples/conditional-form-validation/ConditionalFormValidationExample'\nimport DynamicValidatorsExample from './examples/dynamic-validators/DynamicValidatorsExample'\n\nconst Examples = () => {\n  const SimpleFormValidation = lazy(() =>\n    importMDX('./examples/simple-form-validation/SimpleFormValidation.mdx')\n  )\n  const ConditionalFormValidation = lazy(() =>\n    importMDX(\n      './examples/conditional-form-validation/ConditionalFormValidation.mdx'\n    )\n  )\n\n  const DynamicValidators = lazy(() =>\n    importMDX('./examples/dynamic-validators/DynamicValidators.mdx')\n  )\n\n  return (\n    <Suspense fallback={'...'}>\n      <h2 id='examples'>Examples</h2>\n      <ExampleWrapper\n        example={SimpleFormValidationExample}\n        doc={SimpleFormValidation}\n        title={'Simple Form validation'}\n        id='examples-sfv'\n      />\n      <ExampleWrapper\n        example={ConditionalFormValidationExample}\n        doc={ConditionalFormValidation}\n        title={'Conditional Form validation'}\n        id='examples-cfv'\n      />\n      <ExampleWrapper\n        example={DynamicValidatorsExample}\n        doc={DynamicValidators}\n        title={'Adding and removing Validators'}\n        id='examples-dv'\n      />\n    </Suspense>\n  )\n}\n\nexport default Examples\n","import React from 'react'\n\nimport './index.css'\nimport About from './sections/About'\nimport SideBar from './sections/Sidebar'\nimport Header from './sections/Header'\nimport Notice from './sections/Notice'\nimport Installation from './sections/Instalation'\nimport Usage from './sections/Usage'\nimport Examples from './sections/Examples'\n\nconst App = () => {\n  return (\n    <div className='container-fluid'>\n      <Header />\n      <Notice />\n      <div className='row flex-center'>\n        <SideBar />\n        <div className='md-8 offset-1'>\n          <div className='paper'>\n            <About />\n            <div className='section'>\n              <Installation />\n            </div>\n            <div className='section'>\n              <Usage />\n            </div>\n            <div className='section'>\n              <Examples />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}